% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_regex.R
\name{build_regex}
\alias{build_regex}
\title{build_regex}
\usage{
build_regex(instructions, regex_lookup)
}
\arguments{
\item{instructions}{vector of strings containing words given in regex_lookup.
Each string in the vector can have multiple instruction words in it.
Each instruction word is converted to a regular expression and these are 
pasted together to create a single pattern from each string. Must not 
contain punctuation.}

\item{regex_lookup}{datafarame containing the columns 'word' and 'pattern'. 
Each row of 'word' is a single word instruction that relates to a regex
pattern separated by single underscores. See examples.}
}
\value{
a vector of regular expressions; one for each instruction string
Raises an error if there is an instruction that does not appear in 
regex_lookup.
}
\description{
Convert instructions into a regex pattern
}
\details{
Convert instructions into a regex pattern

Because it is problematic to pass regex patterns from the data dictionary
as an argument through subprocess in Python, we can instead use this function
to build the regex pattern inside R.
}
\examples{
regex_lookup <- data.frame(
    "word" = c("colon", "whitespace", "poundsign", "newline"),
    "pattern" = c("\\\\:", "\\\\s*", "\\\\ï¿½", "(\r\n|\r|\n)"))
    
instructions <- c("colon_whitespace", "newline_poundsign_newline")

build_regex(instructions, regex_lookup)
}
\author{
Emma Wood \email{emma.wood@ons.gov.uk}
}
